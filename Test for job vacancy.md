# Что такое Unicode и отличие UTF-8 от UTF-16.

## Для начала что такое Unicode.

Unicode - это довольно обширно использующийся способ кодирования символов. Обычно используется шестнадцатиричная кодировка посредством U+0000.

Этот метод используется как стандарт во всемирной сети и состоит из двух основных частей:
- Универсальный набор символов (Universal Character Set, UCS).
- Семейство кодировок (Unicode Transformation Format, UTF).

## UTF-8 и UTF-16

Оба UTF-8 и UTF-16 являются кодировками переменной длины. Однако в UTF-8 символ может занимать минимум 8 бит, тогда как в UTF-16 длина символа начинается с 16 бит.

### UTF-8
Плюсы:
- Достойная обратная совместимость из за того, что основные символы  ASCII, такие как цифры, латинские символы без акцентов и т.д., занимают 1 байт, который идентичен представлению US-ASCII. Данным образом, все строки US-ASCII становятся действительными UTF-8.
- Большая обратная совместимость из за отсутствия нулевых байтов, что позволяет использовать строки с нулевым символом.
- Не нужно беспокоиться о проблеме Big Endian/Little Endian, так как UTF-8 не зависит от порядка байтов.

Минусы:
- Замедление индексирования по кодовым точкам и вычисления числа кодов из за того, что многие общие символы имеют разную длину.
- Программное обеспечение Microsoft (например, Блокнот) особенно любит добавлять спецификацию в UTF-8. Несмотря на то, что порядок байтов не имеет значения, иногда UTF-8 по-прежнему имеет байтовый порядок, который служит для уведомления о том, что текст закодирован в UTF-8, а также нарушает совместимость с программным обеспечением ASCII, даже если только текст содержит символы ASCII.

### UTF-16
Плюсы:
- Наличие базовых многоязычных плоскостей включая латынь, кириллицу, большинство китайских иероглифов, большинство японских иероглифов могут быть представлены 2 байтами, что ускоряет индексирование и вычисление количества кодовых точек в случае, если текст не содержит дополнительных символов.
- В случае если текст имеет дополнительные символы, то они всё ещё представлены парами 16-тибитных значений, что означает, что общая длина по прежнему делится на два и позволяет использовать 16-тиразрядный тип char в качестве примитивного компонента строки.

Минусы:
- Отсутствие нулевых строк и много потерянной памяти из за множества нулевых байтов в строках US-ASCII.
- Использование в качестве кодировки фиксированной длины "в основном работает" во многих странах, что часто приводит к нарушенной поддержке там, где это происходит, что означает, что программисты должны знать суррогатные пары и правильно обращаться с ними.
- Переменная длина кодировки, из за чего подсчёт или индексирование кодовых точек является затратным, хоть и меньшим, чем в UTF-8.

## Итог
UTF-8 очень хорош для текстовых файлов и сетевых протоколов, потому что нет проблемы с BE/LE, нулевое завершение часто пригодится, а также совместимость с ASCII.
UTF-16 лучше подходит для представления в памяти из за того, что BE/LE не имеет значения, индексация выполняется быстрее.